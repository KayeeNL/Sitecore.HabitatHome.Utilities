### Installation helpers for Sitecore Experience Platform (XP)
> These steps assume you have all of the prerequisites installed and have followed the instructions at [README.md](../../Prerequisits/README.md)

Still in an elevated PowerShell session

- Browse to the solr folder
	
	`Set-Location Sitecore.Habitathome.Utilities\XP\Install\solr`

- Review the install-solr.ps1 script to ensure the Java and Solr versions are correct

- Install Solr 
	
	`.\install-solr.ps1 -JREVersion <version of JRE you have installed ie: 1.8.0_181>`
> **Known Issue**: error finding keytool. For now, exit and re-open Powershell and run the script again
> Once setup is complete, the installer should load the solr 'home' page

#### Prepare to install XP
	
	Set-Location ..

##### A bit about the process

The install-xp0.ps1 script takes in a JSON configuration file (defaults to .\configuration-xp0.json) and runs through the entire platform installation, including optional modules.

The configuration-xp0.json is generated by running two powershell scripts. These powershell scripts use a template settings file (install-settings.json) and populates some values.

The set-installation-defaults.ps1 does what it sounds like - it creates the configuration-xp0.json file and populates it with the default values based on the version of the platform it was meant to support.

The set-installation-overrides.ps1.example script needs to be renamed and modified. Executing it once it has been renamed will fill in the rest of the information in the configuration-xp0.json file as well as override some of the default values. 

----------

#### Installation

- Set some predefined defaults   
`.\set-installation-defaults.ps1`
- Create a copy of the overrides file
`copy set-installation-overrides.ps1.example set-installation-overrides.ps1`

- Edit ***set-installation-overrides.ps1*** to set the SQL instance name and sa password 

- Copy your license file to the .\assets folder
`copy ~\Downloads\license.xml .\assets`

> Let's GO!

`.\install-xp0.ps1`

> You will be prompted for your dev.sitecore.com credentials - the required assets will be downloaded automatically.

**KNOWN ISSUE**
Downloading large files take time and are causing connection issues. 
 After the download of larger files, you may get an error `Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host.` The download was NOT completed successfully. 
**WORKAROUND: manually download the larger Sitecore WDP Package required and place it into the XP/install/assets folder.**


